<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#0066cc">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>å®—åƒæ¤œå®š 2025å¹´ç‰ˆ</title>
    <!-- OGP Meta Tags -->
    <meta property="og:title" content="å®—åƒæ¤œå®š - ç¥å®¿ã‚‹å³¶ã¸ã®çŸ¥ã®å·¡ç¤¼">
    <meta property="og:description" content="ä¸–ç•Œéºç”£ãƒ»å®—åƒã®æ­´å²ã‚’ç´è§£ãã€ãƒ‡ã‚¸ã‚¿ãƒ«èªå®šè¨¼ã¨åœ°åŸŸç‰¹å…¸ã‚’ãã®æ‰‹ã«ã€‚24æ™‚é–“365æ—¥ã€ã©ã“ã‹ã‚‰ã§ã‚‚æŒ‘æˆ¦å¯èƒ½ã€‚">
    <meta property="og:image" content="https://nakamura-munakata.github.io/munakata-kentei/images/ogp_image.png">
    <meta property="og:url" content="https://nakamura-munakata.github.io/munakata-kentei/">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="å®—åƒæ¤œå®š - ç¥å®¿ã‚‹å³¶ã¸ã®çŸ¥ã®å·¡ç¤¼">
    <meta name="twitter:description" content="ä¸–ç•Œéºç”£ãƒ»å®—åƒã®æ­´å²ã‚’ç´è§£ãã€ãƒ‡ã‚¸ã‚¿ãƒ«èªå®šè¨¼ã¨åœ°åŸŸç‰¹å…¸ã‚’ãã®æ‰‹ã«ã€‚">
    <meta name="twitter:image" content="https://nakamura-munakata.github.io/munakata-kentei/images/ogp_image.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif, 'Hiragino Sans', 'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Pro';
            background: linear-gradient(135deg, #0066cc 0%, #0099ff 50%, #00ccff 100%);
            background-attachment: fixed;
            min-height: 100vh;
            padding: 12px;
            position: relative;
            font-size: 16px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 35px, rgba(255,255,255,.05) 35px, rgba(255,255,255,.05) 70px),
                repeating-linear-gradient(90deg, transparent, transparent 35px, rgba(255,255,255,.03) 35px, rgba(255,255,255,.03) 70px);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #0066cc 0%, #0099ff 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 102, 204, 0.3);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120"><path d="M0,50 Q300,0 600,50 T1200,50 L1200,120 L0,120 Z" fill="rgba(255,255,255,0.1)"/></svg>') repeat-x;
            background-size: 600px 120px;
            opacity: 0.5;
        }

        header > * {
            position: relative;
            z-index: 1;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        /* LP Link Banner */
        .lp-banner {
            background: linear-gradient(135deg, #1a2332 0%, #2c3e50 100%);
            color: white;
            padding: 15px 20px;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .lp-banner p {
            margin: 0;
            font-size: 0.95em;
        }

        .lp-banner a {
            background: #d84315;
            color: white;
            padding: 8px 20px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .lp-banner a:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(216, 67, 21, 0.4);
        }

        /* Hero Section with Munakata Images */
        .hero-image {
            width: 100%;
            max-width: 600px;
            margin: 20px auto;
            display: block;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            animation: floatAnimation 3s ease-in-out infinite;
        }

        @keyframes floatAnimation {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .wave-decoration {
            width: 100%;
            height: 120px;
            background: url('images/genkai_sea.png');
            background-size: cover;
            background-position: center;
            margin: 30px 0;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,102,204,0.3);
        }

        header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .content {
            padding: 40px 30px;
        }

        .overview {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #0066cc;
        }

        .overview h2 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .overview p {
            color: #666;
            line-height: 1.6;
        }

        #difficulty-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        #difficulty-selection.hidden {
            display: none;
        }
        .level-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .level-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .level-card:hover::before {
            left: 100%;
        }

        .difficulty-card {
            background: white;
            border-radius: 12px;
            padding: 24px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 3px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .difficulty-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .difficulty-card.beginner {
            border-color: #28a745;
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
        }

        .difficulty-card.intermediate {
            border-color: #ffc107;
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
        }

        .difficulty-card.advanced {
            border-color: #dc3545;
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
        }

        .difficulty-card .icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .difficulty-card h3 {
            font-size: 1.8em;
            margin-bottom: 10px;
            color: #333;
        }

        .difficulty-card p {
            color: #666;
            margin-bottom: 15px;
            font-size: 0.9em;
        }

        .difficulty-info {
            text-align: center;
            font-size: 0.85em;
            color: #555;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(0,0,0,0.1);
            list-style: none;
            padding-left: 0;
            width: 100%;
        }

        .difficulty-info li {
            margin: 8px 0;
            padding: 4px 0;
            display: block;
        }

        .btn {
            background: linear-gradient(135deg, #0066cc 0%, #0099ff 100%);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
            position: relative;
            overflow: hidden;
            min-height: 48px;
            min-width: 48px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            user-select: none;
        }

        .btn:active {
            transform: scale(0.98);
            box-shadow: 0 3px 10px rgba(0, 102, 204, 0.3);
        }

        .btn:focus {
            outline: 2px solid #0099ff;
            outline-offset: 2px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:active::before {
            width: 300px;
            height: 300px;
        }

        .exam-section {
            display: none;
        }

        .exam-section.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .progress-container {
            margin-bottom: 30px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0066cc, #0099ff, #00ccff);
            width: 0%;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 102, 204, 0.5);
        }

        .question-item {
            background: #f8f9fa;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 8px;
            border-left: 4px solid #0066cc;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .question-number {
            color: #0066cc;
            font-weight: 600;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.1em;
            color: #333;
            margin-bottom: 20px;
            font-weight: 500;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 14px 16px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            min-height: 56px;
        }

        .option:hover {
            border-color: #0066cc;
            background: #f0f7ff;
        }

        .option input[type="radio"] {
            margin-right: 12px;
            cursor: pointer;
            width: 20px;
            height: 20px;
            min-width: 20px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        /* Result Section Styles */
        #result-section {
            display: none;
        }

        #result-section.active {
            display: block;
        }

        .result-header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .result-message {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #333;
        }

        .result-score {
            font-size: 4em;
            font-weight: 700;
            color: #0066cc;
            margin-bottom: 10px;
        }

        .result-rank {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 15px;
        }

        .user-count {
            font-size: 1em;
            color: #888;
            margin-bottom: 20px;
        }

        /* Digital Certificate */
        .certificate-section {
            background: linear-gradient(135deg, #1a2332 0%, #2c3e50 100%);
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
            color: white;
        }

        .certificate-section h3 {
            color: #c9a961;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .certificate-card {
            background: linear-gradient(135deg, #f5f3ed 0%, #e8e6e0 100%);
            border: 4px solid #c9a961;
            border-radius: 15px;
            padding: 30px;
            max-width: 400px;
            margin: 0 auto 20px;
            color: #1a2332;
            position: relative;
            overflow: hidden;
        }

        .certificate-card::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 2px solid #c9a961;
            border-radius: 10px;
            pointer-events: none;
        }

        .certificate-title {
            font-size: 1.8em;
            font-weight: 700;
            color: #1a2332;
            margin-bottom: 10px;
        }

        .certificate-level {
            font-size: 1.2em;
            color: #d84315;
            margin-bottom: 15px;
        }

        .certificate-score {
            font-size: 2.5em;
            font-weight: 700;
            color: #c9a961;
            margin-bottom: 10px;
        }

        .certificate-date {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 15px;
        }

        .certificate-badge {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #c9a961 0%, #d4af37 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            font-size: 2em;
            box-shadow: 0 4px 15px rgba(201, 169, 97, 0.4);
        }

        .certificate-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .certificate-btn {
            background: #c9a961;
            color: #1a2332;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .certificate-btn:hover {
            background: #d4af37;
            transform: translateY(-2px);
        }

        /* Next Course Banner */
        .next-course-banner {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
            text-align: center;
            color: white;
        }

        .next-course-banner.intermediate-next {
            background: linear-gradient(135deg, #ffc107 0%, #ffca2c 100%);
            color: #333;
        }

        .next-course-banner.advanced-next {
            background: linear-gradient(135deg, #dc3545 0%, #e74c3c 100%);
        }

        .next-course-banner.ambassador {
            background: linear-gradient(135deg, #6f42c1 0%, #9b59b6 100%);
        }

        .next-course-banner h3 {
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .next-course-banner p {
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .next-course-btn {
            background: white;
            color: #333;
            border: none;
            padding: 14px 28px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-height: 48px;
        }

        .next-course-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* LP Link Section */
        .lp-link-section {
            background: linear-gradient(135deg, #1a2332 0%, #0f1419 100%);
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
            text-align: center;
            color: white;
        }

        .lp-link-section h3 {
            color: #c9a961;
            margin-bottom: 15px;
        }

        .lp-link-section p {
            margin-bottom: 20px;
            opacity: 0.9;
        }

        .lp-link-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .lp-link-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            text-decoration: none;
            color: white;
            transition: all 0.3s;
        }

        .lp-link-item:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-3px);
        }

        .lp-link-item .icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .lp-link-item .title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .lp-link-item .desc {
            font-size: 0.85em;
            opacity: 0.8;
        }

        /* Share Buttons */
        .share-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .share-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
            font-size: 0.9em;
            min-height: 48px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .share-btn:nth-child(1) { background: #1DA1F2; color: white; }
        .share-btn:nth-child(2) { background: #4267B2; color: white; }
        .share-btn:nth-child(3) { background: #00B900; color: white; }
        .share-btn:nth-child(4) { background: #6c757d; color: white; }

        /* Answer Review */
        .answer-review {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
        }

        .answer-review h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .answer-item {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #ddd;
        }

        .answer-item.correct {
            border-left-color: #28a745;
        }

        .answer-item.incorrect {
            border-left-color: #dc3545;
        }

        .answer-item-icon {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .answer-item-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .answer-item-content {
            color: #666;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .answer-item-explanation {
            color: #555;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #eee;
            font-size: 0.9em;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 600px) {
            body {
                padding: 8px;
            }

            .container {
                border-radius: 8px;
            }

            header {
                padding: 24px 16px;
            }

            header h1 {
                font-size: clamp(1.5rem, 5vw, 2rem);
            }

            header p {
                font-size: 0.95rem;
            }

            .content {
                padding: 16px 12px;
            }

            #difficulty-selection {
                grid-template-columns: 1fr;
                gap: 16px;
                padding: 0 8px;
            }

            .difficulty-card {
                padding: 20px 16px;
                min-height: auto;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: flex-start;
                text-align: center;
            }

            .difficulty-card .icon {
                font-size: 2.5em;
                margin-bottom: 8px;
                display: block;
            }

            .difficulty-card h3 {
                font-size: 1.5rem;
                margin-bottom: 8px;
                display: block;
                width: 100%;
            }

            .difficulty-card p {
                font-size: 0.95rem;
                margin-bottom: 12px;
                display: block;
                width: 100%;
            }

            .difficulty-info {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 8px 16px;
                text-align: center;
                width: 100%;
                margin-top: 12px;
                padding-top: 12px;
            }

            .difficulty-info li {
                margin: 0;
                padding: 6px 8px;
                background: rgba(255,255,255,0.5);
                border-radius: 6px;
                font-size: 0.85rem;
                white-space: nowrap;
            }

            .difficulty-card .btn {
                width: 100%;
                margin-top: 16px;
                padding: 14px 20px;
                font-size: 1.1rem;
            }

            .question-item {
                padding: 12px;
                margin-bottom: 16px;
            }

            .question-text {
                font-size: 1rem;
                margin-bottom: 16px;
            }

            .options {
                gap: 10px;
            }

            .option {
                padding: 12px 12px;
                min-height: 52px;
            }

            .result-score {
                font-size: 2.5rem;
            }

            .result-message {
                font-size: 1.2rem;
            }

            .button-group {
                gap: 10px;
                margin-top: 20px;
            }

            .button-group .btn {
                flex: 1;
                min-width: 120px;
            }

            .lp-banner {
                flex-direction: column;
                gap: 10px;
                padding: 12px 16px;
            }

            .lp-banner p {
                font-size: 0.9rem;
            }

            .lp-banner a {
                padding: 10px 20px;
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
                width: 100%;
            }

            .certificate-card {
                max-width: 100%;
                padding: 20px;
            }

            .share-buttons {
                gap: 8px;
            }

            .share-btn {
                flex: 1;
                min-width: 80px;
                padding: 10px 12px;
                font-size: 0.85rem;
            }

            .lp-link-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .lp-link-item {
                padding: 12px;
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .next-course-banner {
                padding: 16px 12px;
            }

            .next-course-btn {
                width: 100%;
            }
        }

        @media (min-width: 601px) and (max-width: 1024px) {
            .difficulty-card {
                padding: 24px;
            }

            .question-item {
                padding: 20px;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- LP Link Banner -->
        <div class="lp-banner">
            <p>ğŸ›ï¸ å®—åƒæ¤œå®šã®è©³ç´°ãƒ»åˆæ ¼ç‰¹å…¸ã¯ã“ã¡ã‚‰</p>
            <a href="https://nakamura-munakata.github.io/munakata-kentei-lp/">å…¬å¼ã‚µã‚¤ãƒˆã‚’è¦‹ã‚‹</a>
        </div>

        <header>
            <h1>ğŸ›ï¸ å®—åƒæ¤œå®š</h1>
            <p>å®—åƒåœ°åŸŸã®æ­´å²ãƒ»æ–‡åŒ–ãƒ»ç‰¹ç”£å“ã‚’å­¦ã¶</p>
            <img src="images/munakata_shrine.png" alt="å®—åƒå¤§ç¤¾" class="hero-image">
        </header>

        <div class="content">
            <!-- é›£æ˜“åº¦é¸æŠç”»é¢ -->
            <div id="difficulty-selection">
                <div class="overview">
                    <h2>å®—åƒæ¤œå®šã¸ã‚ˆã†ã“ãï¼</h2>
                    <p>å®—åƒå¸‚ã®æ­´å²ã€æ–‡åŒ–ã€ç‰¹ç”£å“ã€äººç‰©ãªã©ã€å®—åƒåœ°åŸŸã«é–¢ã™ã‚‹çŸ¥è­˜ã‚’å•ã†æ¤œå®šã§ã™ã€‚ã‚ãªãŸã®ãƒ¬ãƒ™ãƒ«ã«åˆã‚ã›ã¦ã€èª²é•·ãƒ»éƒ¨é•·ãƒ»å¸‚é•·ã®3ã¤ã®é›£æ˜“åº¦ã‹ã‚‰é¸æŠã—ã¦ãã ã•ã„ã€‚</p>
                </div>

                <div class="difficulty-card beginner" onclick="startExam('beginner')">
                    <div class="icon">ğŸ‘¨â€ğŸ’¼</div>
                    <h3>èª²é•·</h3>
                    <p>åŸºæœ¬æƒ…å ±ã‚’ã—ã£ã‹ã‚Šç†è§£ã—ã‚ˆã†</p>
                    <ul class="difficulty-info">
                        <li>å•é¡Œæ•°ï¼š11å•</li>
                        <li>å½¢å¼ï¼šé¸æŠè‚¢11å•</li>
                        <li>é…ç‚¹ï¼š100ç‚¹</li>
                        <li>é›£æ˜“åº¦ï¼šâ˜…â˜†â˜†</li>
                    </ul>
                    <button class="btn">èª²é•·ã‚’é¸æŠ</button>
                </div>

                <div class="difficulty-card intermediate" onclick="startExam('intermediate')">
                    <div class="icon">ğŸ‘¨â€ğŸ’¼</div>
                    <h3>éƒ¨é•·</h3>
                    <p>è©³ç´°ãªæƒ…å ±ã‚’ç†è§£ã—ã‚ˆã†</p>
                    <ul class="difficulty-info">
                        <li>å•é¡Œæ•°ï¼š10å•</li>
                        <li>å½¢å¼ï¼šé¸æŠè‚¢10å•</li>
                        <li>é…ç‚¹ï¼š100ç‚¹</li>
                        <li>é›£æ˜“åº¦ï¼šâ˜…â˜…â˜†</li>
                    </ul>
                    <button class="btn">éƒ¨é•·ã‚’é¸æŠ</button>
                </div>

                <div class="difficulty-card advanced" onclick="startExam('advanced')">
                    <div class="icon">ğŸ‘¨â€ğŸ’¼</div>
                    <h3>å¸‚é•·</h3>
                    <p>è¤‡åˆçš„ãªåˆ†æåŠ›ã‚’è©¦ãã†</p>
                    <ul class="difficulty-info">
                        <li>å•é¡Œæ•°ï¼š10å•</li>
                        <li>å½¢å¼ï¼šé¸æŠè‚¢10å•</li>
                        <li>é…ç‚¹ï¼š100ç‚¹</li>
                        <li>é›£æ˜“åº¦ï¼šâ˜…â˜…â˜…</li>
                    </ul>
                    <button class="btn">å¸‚é•·ã‚’é¸æŠ</button>
                </div>
                
                <!-- æ³¢ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ -->
                <div class="wave-decoration"></div>
            </div>

            <!-- èª²é•·ï¼ˆåˆç´šï¼‰è©¦é¨“ -->
            <div id="beginner-exam" class="exam-section">
                <h2>èª²é•· - åˆç´šç·¨</h2>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div id="beginner-progress" class="progress-fill"></div>
                    </div>
                </div>
                <div id="beginner-questions"></div>
                <div class="button-group">
                    <button class="btn" onclick="submitAnswers('beginner')">æ¡ç‚¹ã™ã‚‹</button>
                    <button class="btn" onclick="backToDifficulty()" style="background: #6c757d;">é›£æ˜“åº¦é¸æŠã«æˆ»ã‚‹</button>
                </div>
            </div>

            <!-- éƒ¨é•·ï¼ˆä¸­ç´šï¼‰è©¦é¨“ -->
            <div id="intermediate-exam" class="exam-section">
                <h2>éƒ¨é•· - ä¸­ç´šç·¨</h2>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div id="intermediate-progress" class="progress-fill"></div>
                    </div>
                </div>
                <div id="intermediate-questions"></div>
                <div class="button-group">
                    <button class="btn" onclick="submitAnswers('intermediate')">æ¡ç‚¹ã™ã‚‹</button>
                    <button class="btn" onclick="backToDifficulty()" style="background: #6c757d;">é›£æ˜“åº¦é¸æŠã«æˆ»ã‚‹</button>
                </div>
            </div>

            <!-- å¸‚é•·ï¼ˆä¸Šç´šï¼‰è©¦é¨“ -->
            <div id="advanced-exam" class="exam-section">
                <h2>å¸‚é•· - ä¸Šç´šç·¨</h2>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div id="advanced-progress" class="progress-fill"></div>
                    </div>
                </div>
                <div id="advanced-questions"></div>
                <div class="button-group">
                    <button class="btn" onclick="submitAnswers('advanced')">æ¡ç‚¹ã™ã‚‹</button>
                    <button class="btn" onclick="backToDifficulty()" style="background: #6c757d;">é›£æ˜“åº¦é¸æŠã«æˆ»ã‚‹</button>
                </div>
            </div>

            <!-- çµæœè¡¨ç¤º -->
            <div id="result-section">
                <div class="result-header">
                    <div class="result-message" id="result-message"></div>
                    <div class="result-score" id="result-score">0ç‚¹</div>
                    <div class="result-rank" id="result-rank"></div>
                    <div class="user-count" id="result-user-count"></div>
                </div>

                <!-- ãƒ‡ã‚¸ã‚¿ãƒ«èªå®šè¨¼ -->
                <div class="certificate-section" id="certificate-section" style="display: none;">
                    <h3>ğŸ–ï¸ ãƒ‡ã‚¸ã‚¿ãƒ«èªå®šè¨¼</h3>
                    <div class="certificate-card" id="certificate-card">
                        <div class="certificate-badge" id="certificate-badge">ğŸ›ï¸</div>
                        <div class="certificate-title">å®—åƒæ¤œå®š</div>
                        <div class="certificate-level" id="certificate-level">èª²é•·ã‚³ãƒ¼ã‚¹</div>
                        <div class="certificate-score" id="certificate-score-display">åˆæ ¼</div>
                        <div class="certificate-date" id="certificate-date"></div>
                    </div>
                    <div class="certificate-actions">
                        <button class="certificate-btn" onclick="downloadCertificate()">ğŸ“¥ èªå®šè¨¼ã‚’ä¿å­˜</button>
                        <button class="certificate-btn" onclick="shareCertificate()">ğŸ“¤ SNSã§ã‚·ã‚§ã‚¢</button>
                    </div>
                </div>

                <!-- æ¬¡ã®ã‚³ãƒ¼ã‚¹ã¸ã®èª˜å° -->
                <div class="next-course-banner" id="next-course-banner" style="display: none;">
                    <h3 id="next-course-title">ğŸ‰ æ¬¡ã¯éƒ¨é•·ã‚³ãƒ¼ã‚¹ã«æŒ‘æˆ¦ï¼</h3>
                    <p id="next-course-desc">èª²é•·ã‚³ãƒ¼ã‚¹ã‚’ã‚¯ãƒªã‚¢ã—ãŸã‚ãªãŸãªã‚‰ã€éƒ¨é•·ã‚³ãƒ¼ã‚¹ã‚‚çªç ´ã§ãã‚‹ã¯ãšï¼</p>
                    <button class="next-course-btn" id="next-course-btn" onclick="goToNextCourse()">éƒ¨é•·ã‚³ãƒ¼ã‚¹ã«æŒ‘æˆ¦ã™ã‚‹</button>
                </div>

                <!-- LP ã‚µã‚¤ãƒˆã¸ã®ãƒªãƒ³ã‚¯ -->
                <div class="lp-link-section">
                    <h3>ğŸ åˆæ ¼ç‰¹å…¸ã‚’ç¢ºèªã—ã‚ˆã†</h3>
                    <p>å®—åƒæ¤œå®šåˆæ ¼è€…ã«ã¯ã€å¸‚å†…ã§ä½¿ãˆã‚‹ç‰¹å…¸ã‚’ã”ç”¨æ„ã—ã¦ã„ã¾ã™ï¼</p>
                    <div class="lp-link-grid">
                        <a href="https://nakamura-munakata.github.io/munakata-kentei-lp/#benefits" class="lp-link-item">
                            <div class="icon">ğŸ«</div>
                            <div class="title">å¸‚å†…ã‚¯ãƒ¼ãƒãƒ³</div>
                            <div class="desc">å”åŠ›åº—èˆ—ã§ä½¿ãˆã‚‹ç‰¹å…¸</div>
                        </a>
                        <a href="https://nakamura-munakata.github.io/munakata-kentei-lp/#learning" class="lp-link-item">
                            <div class="icon">ğŸ“š</div>
                            <div class="title">å­¦ç¿’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</div>
                            <div class="desc">ã‚‚ã£ã¨å®—åƒã‚’çŸ¥ã‚ã†</div>
                        </a>
                        <a href="https://nakamura-munakata.github.io/munakata-kentei-lp/#courses" class="lp-link-item">
                            <div class="icon">ğŸ†</div>
                            <div class="title">ä»–ã®ã‚³ãƒ¼ã‚¹</div>
                            <div class="desc">ã•ã‚‰ã«ä¸Šã‚’ç›®æŒ‡ãã†</div>
                        </a>
                    </div>
                </div>

                <!-- SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ -->
                <div class="share-buttons">
                    <button class="share-btn" onclick="shareOnTwitter()">ğ•ã§ã‚·ã‚§ã‚¢</button>
                    <button class="share-btn" onclick="shareOnFacebook()">Facebookã§ã‚·ã‚§ã‚¢</button>
                    <button class="share-btn" onclick="shareOnLine()">LINEã§ã‚·ã‚§ã‚¢</button>
                    <button class="share-btn" onclick="copyLink()">ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼</button>
                </div>

                <div class="answer-review">
                    <h3>ğŸ“„ å›ç­”ç¢ºèª</h3>
                    <div id="answer-review-content"></div>
                </div>

                <div class="button-group">
                    <button class="btn" onclick="retryExam()">ã‚‚ã†ä¸€åº¦å—é¨“ã™ã‚‹</button>
                    <a href="https://nakamura-munakata.github.io/munakata-kentei-lp/" class="btn" style="text-decoration: none; display: inline-block;">å…¬å¼ã‚µã‚¤ãƒˆã¸</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å•é¡Œãƒ‡ãƒ¼ã‚¿
        const allQuestions = {
            "beginner": [
                {"id": "q1", "question": "ç¦å²¡å¸‚ã¨åŒ—ä¹å·å¸‚ã®ä¸­é–“ã«ä½ç½®ã™ã‚‹å®—åƒå¸‚ã€‚åŒ—å´ã¯ã©ã®æµ·ã«é¢ã—ã¦ã„ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["æœ‰æ˜æµ·", "ç„ç•Œç˜", "ç€¬æˆ¸å†…æµ·"], "correct": 1, "explanation": "å®—åƒå¸‚ã¯ç„ç•Œç˜ã«é¢ã—ã¦ãŠã‚Šã€ã“ã®æµ·ã¯å¤ä»£ã‹ã‚‰å¤§é™¸ã¨ã®äº¤æ˜“ã®é‡è¦ãªèˆªè·¯ã§ã—ãŸã€‚"},
                {"id": "q2", "question": "å¹³æˆ29å¹´ï¼ˆ2017å¹´ï¼‰ã«ãƒ¦ãƒã‚¹ã‚³ä¸–ç•Œæ–‡åŒ–éºç”£ã«ç™»éŒ²ã•ã‚ŒãŸéºç”£ç¾¤ã®åç§°ã¯ã€ã€Œã€ã€‡ã€‡ã€‡å³¶ã€å®—åƒãƒ»æ²–ãƒå³¶ã¨é–¢é€£éºç”£ç¾¤ã€ã§ã™ã€‚ã€‡ã«å…¥ã‚‹è¨€è‘‰ã¯ï¼Ÿ", "options": ["å®ã®", "ç¥å®¿ã‚‹", "ç¥ˆã‚Šã®"], "correct": 1, "explanation": "æ­£å¼åç§°ã¯ã€Œã€ç¥å®¿ã‚‹å³¶ã€å®—åƒãƒ»æ²–ãƒå³¶ã¨é–¢é€£éºç”£ç¾¤ã€ã§ã€æ²–ãƒå³¶ã¯ç¥è–ãªå³¶ã¨ã—ã¦å´‡ã‚ã‚‰ã‚Œã¦ãã¾ã—ãŸã€‚"},
                {"id": "q3", "question": "å®—åƒå¸‚å‡ºèº«ã®å®Ÿæ¥­å®¶ã§ã€å‡ºå…‰èˆˆç”£ã®å‰µæ¥­è€…ã§ã‚ã‚Šã€å°èª¬ã€æµ·è³Šã¨ã‚ˆã°ã‚ŒãŸç”·ã€ã®ãƒ¢ãƒ‡ãƒ«ã¨ã—ã¦ã‚‚çŸ¥ã‚‰ã‚Œã‚‹äººç‰©ã¯èª°ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["å‡ºå…‰ä½ä¸‰", "æ¾ä¸‹å¹¸ä¹‹åŠ©", "æ¸‹æ²¢æ „ä¸€"], "correct": 0, "explanation": "å‡ºå…‰ä½ä¸‰ã¯å®—åƒå¸‚å‡ºèº«ã®å®Ÿæ¥­å®¶ã§ã€å‡ºå…‰èˆˆç”£ã‚’å‰µæ¥­ã—ã€ãã®æ³¢ä¹±ä¸‡ä¸ˆãªäººç”Ÿã¯å°èª¬ã€æµ·è³Šã¨ã‚ˆã°ã‚ŒãŸç”·ã€ã®ãƒ¢ãƒ‡ãƒ«ã¨ãªã‚Šã¾ã—ãŸã€‚"},
                {"id": "q4", "question": "å®—åƒå¸‚ã®ã€Œå¸‚ã®æœ¨ã€ã®ä¸€ã¤ã§ã€å¸‚å†…ã®æ–‡åŒ–æ–½è¨­ã€Œå®—åƒãƒ¦ãƒªãƒƒã‚¯ã‚¹ã€ã®åå‰ã®ç”±æ¥ã«ã‚‚ãªã£ã¦ã„ã‚‹æœ¨ã¯ä½•ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["ã‚¹ã‚®", "ãƒãƒ„", "ã‚¯ã‚¹ãƒã‚­"], "correct": 2, "explanation": "ã‚¯ã‚¹ãƒã‚­ã¯å®—åƒå¸‚ã®å¸‚ã®æœ¨ã®ä¸€ã¤ã§ã€ã€Œãƒ¦ãƒªãƒƒã‚¯ã‚¹ã€ã®åå‰ã¯ã€Œãƒ¦ãƒªã€ï¼ˆå¸‚ã®èŠ±ï¼‰ã¨ã€Œã‚¯ã‚¹ã€ï¼ˆã‚¯ã‚¹ãƒã‚­ï¼‰ã‹ã‚‰åä»˜ã‘ã‚‰ã‚Œã¾ã—ãŸã€‚"},
                {"id": "q5", "question": "å®—åƒå¸‚ã®ã€Œå¸‚ã®é­šã€ã«åˆ¶å®šã•ã‚Œã¦ãŠã‚Šã€å¸‚å†…ã§ã¯ã€Œç„ã¡ã‚ƒã‚“ã€ã®æ„›ç§°ã§ã‚‚è¦ªã—ã¾ã‚Œã¦ã„ã‚‹é­šã¯ä½•ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["ãƒã‚¢ã‚¸", "ã‚¿ã‚¤", "ã‚¤ã‚«"], "correct": 0, "explanation": "ãƒã‚¢ã‚¸ãŒå®—åƒå¸‚ã®å¸‚ã®é­šã§ã€ç„ç•Œç˜ã§ç²ã‚Œã‚‹ã“ã¨ã‹ã‚‰ã€Œç„ã¡ã‚ƒã‚“ã€ã¨ã„ã†æ„›ç§°ã§è¦ªã—ã¾ã‚Œã¦ã„ã¾ã™ã€‚"},
                {"id": "q6", "question": "å®—åƒå¸‚ã®ã€Œå¸‚ã®èŠ±ã€ã§ã€å¸‚ãŒè‡ªç”Ÿã®åŒ—é™ã¨ã•ã‚Œã¦ã„ã‚‹ãƒ¦ãƒªã®åå‰ã¯ä½•ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["ãƒ†ãƒƒãƒã‚¦ãƒ¦ãƒª", "ã‚«ãƒã‚³ãƒ¦ãƒª", "ãƒ¤ãƒãƒ¦ãƒª"], "correct": 1, "explanation": "ã‚«ãƒã‚³ãƒ¦ãƒªã¯å®—åƒå¸‚ã®å¸‚ã®èŠ±ã§ã€å®—åƒå¸‚ãŒã“ã®ãƒ¦ãƒªã®è‡ªç”Ÿã®åŒ—é™åœ°ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚"},
                {"id": "q7", "question": "å®—åƒå¤§ç¤¾ãŒç¥€ã£ã¦ã„ã‚‹ç¥æ§˜ã¯ã€ã€Œå®—åƒã€‡å¥³ç¥ã€ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã€‚æ•°å­—ã®ã€‡ã«å…¥ã‚‹ã®ã¯ï¼Ÿ", "options": ["ä¸‰", "äº”", "ä¸ƒ"], "correct": 0, "explanation": "å®—åƒå¤§ç¤¾ã¯ã€Œå®—åƒä¸‰å¥³ç¥ã€ã‚’ç¥€ã£ã¦ãŠã‚Šã€ã“ã‚Œã‚‰ã®å¥³ç¥ã¯å¤ä»£æ—¥æœ¬ã§é‡è¦ãªä¿¡ä»°å¯¾è±¡ã§ã—ãŸã€‚"},
                {"id": "q8", "question": "å®—åƒå¸‚ã«ã‚ã‚‹JRé¹¿å…å³¶æœ¬ç·šã®ä¸»è¦é§…ã§ã€å¸‚å½¹æ‰€ã®æœ€å¯„ã‚Šé§…ï¼ˆãƒã‚¹åˆ©ç”¨ï¼‰ã§ã‚‚ã‚ã‚‹é§…ã¯ã©ã“ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["èµ¤é–“é§…", "æ±éƒ·é§…", "æ•™è‚²å¤§å‰é§…"], "correct": 0, "explanation": "èµ¤é–“é§…ã¯JRé¹¿å…å³¶æœ¬ç·šã®ä¸»è¦é§…ã§ã€å®—åƒå¸‚å½¹æ‰€ã®æœ€å¯„ã‚Šé§…ã§ã™ã€‚"},
                {"id": "q9", "question": "å®—åƒå¸‚ã§æœ€ã‚‚æ¨™é«˜ãŒé«˜ã„å±±ï¼ˆ499.0ãƒ¡ãƒ¼ãƒˆãƒ«ï¼‰ã®åå‰ã¯ä½•ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["åŸå±±", "å­”å¤§å¯ºå±±", "è¨±æ–å±±"], "correct": 1, "explanation": "å­”å¤§å¯ºå±±ãŒå®—åƒå¸‚ã§æœ€ã‚‚æ¨™é«˜ãŒé«˜ã„å±±ã§ã€499.0ãƒ¡ãƒ¼ãƒˆãƒ«ã§ã™ã€‚"},
                {"id": "q10", "question": "ä¸–ç•Œéºç”£ã®æ§‹æˆè³‡ç”£ã®ä¸€ã¤ã§ã€æµ·ã‚’éš”ã¦ã¦æ²–ãƒå³¶ã‚’æ‹ã‚€ãŸã‚ã«å¤§å³¶ã«ä½œã‚‰ã‚ŒãŸå ´æ‰€ã‚’ä½•ã¨ã„ã†ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["æ²–æ´¥å®®é¥æ‹æ‰€", "ä¸­æ´¥å®®", "è¾ºæ´¥å®®"], "correct": 0, "explanation": "æ²–æ´¥å®®é¥æ‹æ‰€ã¯å¤§å³¶ã«ä½œã‚‰ã‚ŒãŸå ´æ‰€ã§ã€æ²–ãƒå³¶ã‚’æ‹ã‚€ãŸã‚ã«é€ å–¶ã•ã‚Œã¾ã—ãŸã€‚"},
                {"id": "q11", "question": "ä»¤7å¹´12æœˆã€å®—åƒãƒ¦ãƒªãƒƒã‚¯ã‚¹å†…ã«é–‹æ¥­ã—ãŸã€æ ªå¼ä¼šç¤¾ãã‚Šãˆã„ã¨ãŒé–¢ã‚ã‚‹ã€Œå…¨å¤©å€™å‹ã“ã©ã‚‚åºƒå ´ã€ã®æ„›ç§°ã¯ä½•ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["Mu-Moï¼ˆãƒ ãƒ¼ãƒ¢ï¼‰", "Aso-Boï¼ˆã‚¢ã‚½ãƒœï¼‰", "Muna-Kidsï¼ˆãƒ ãƒŠã‚­ãƒƒã‚ºï¼‰"], "correct": 0, "explanation": "ä»¤7å¹´12æœˆã«å®—åƒãƒ¦ãƒªãƒƒã‚¯ã‚¹å†…ã«é–‹æ¥­ã—ãŸå…¨å¤©å€™å‹ã“ã©ã‚‚åºƒå ´ã®æ„›ç§°ã¯Mu-Moï¼ˆãƒ ãƒ¼ãƒ¢ï¼‰ã§ã™ã€‚"}
            ],
            "intermediate": [
                {"id": "q11", "question": "å¹³æˆ15å¹´ï¼ˆ2003å¹´ï¼‰ã«æ—§å®—åƒå¸‚ã¨åˆä½µã—ã¦ã€Œæ–°ã—ã„å®—åƒå¸‚ã€ã¨ãªã£ãŸç”ºã¯ã©ã“ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["æ´¥å±‹å´ç”º", "ç„æµ·ç”º", "å¤§å³¶æ‘"], "correct": 1, "explanation": "å¹³æˆ15å¹´ã«æ—§å®—åƒå¸‚ã¨ç„æµ·ç”ºãŒåˆä½µã—ã¦ã€æ–°ã—ã„å®—åƒå¸‚ãŒèª•ç”Ÿã—ã¾ã—ãŸã€‚"},
                {"id": "q12", "question": "å®—åƒå¸‚ã®å¸‚ç« ã¯ã€å®—åƒå¸‚ã®é ­æ–‡å­—ã€Œmã€ã¨ã‚‚ã†ä¸€ã¤ã®æ–‡å­—ã‚’çµ„ã¿åˆã‚ã›ã¦ãƒ‡ã‚¶ã‚¤ãƒ³ã•ã‚Œã¦ã„ã¾ã™ã€‚æ—§ç„æµ·ç”ºã‚’è¡¨ã™ãã®æ–‡å­—ã¯ä½•ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["g", "k", "s"], "correct": 1, "explanation": "å®—åƒå¸‚ã®å¸‚ç« ã¯ã€Œmã€ã¨ã€Œkã€ï¼ˆç„æµ·ç”ºã®Kï¼‰ã‚’çµ„ã¿åˆã‚ã›ã¦ãƒ‡ã‚¶ã‚¤ãƒ³ã•ã‚Œã¦ã„ã¾ã™ã€‚"},
                {"id": "q13", "question": "å®—åƒå¸‚ã®ã€Œå¸‚ã®é³¥ã€ã§ã‚ã‚‹ã‚ªã‚ªãƒŸã‚ºãƒŠã‚®ãƒ‰ãƒªã¯ã€å¤©ç„¶è¨˜å¿µç‰©ã«ã‚‚æŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ãŒã€ä¸»ãªç”Ÿæ¯åœ°ã¨ãªã£ã¦ã„ã‚‹å³¶ã¯ã©ã“ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["å¤§å³¶", "åœ°å³¶", "æ²–ãƒå³¶"], "correct": 0, "explanation": "ã‚ªã‚ªãƒŸã‚ºãƒŠã‚®ãƒ‰ãƒªã¯å®—åƒå¸‚ã®å¸‚ã®é³¥ã§ã€å¤§å³¶ãŒä¸»ãªç”Ÿæ¯åœ°ã§ã™ã€‚"},
                {"id": "q14", "question": "å®—åƒå¸‚ã¨å§‰å¦¹éƒ½å¸‚ã‚’ç· çµã—ã¦ã„ã‚‹ã€å¤ä»£æ—¥æœ¬ã¨ã®äº¤æµã®æ­´å²ã‚‚æ·±ã„éŸ“å›½ã®éƒ½å¸‚ã¯ã©ã“ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["é‡œå±±å¸‚", "ã‚½ã‚¦ãƒ«å¸‚", "é‡‘æµ·å¸‚"], "correct": 2, "explanation": "å®—åƒå¸‚ã¯éŸ“å›½ã®é‡‘æµ·å¸‚ã¨å§‰å¦¹éƒ½å¸‚ã‚’ç· çµã—ã¦ãŠã‚Šã€å¤ä»£ã‹ã‚‰ã®äº¤æµã®æ­´å²ãŒã‚ã‚Šã¾ã™ã€‚"},
                {"id": "q15", "question": "å‡ºå…‰ä½ä¸‰ãŒå‰µæ¥­ã—ãŸå‡ºå…‰èˆˆç”£ã®æœ¬ç¤¾ãŒç½®ã‹ã‚Œã¦ã„ã‚‹éƒ½å¸‚ã¯ã©ã“ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["æ±äº¬", "å¤§é˜ª", "ç¦å²¡"], "correct": 0, "explanation": "å‡ºå…‰èˆˆç”£ã®æœ¬ç¤¾ã¯æ±äº¬ã«ç½®ã‹ã‚Œã¦ã„ã¾ã™ã€‚"},
                {"id": "q16", "question": "å®—åƒå¤§ç¤¾ã®æœ¬æ®¿ãªã©ã®æ”¹ä¿®ãŒå®Œäº†ã—ãŸã€Œæ˜­å’Œã®å¾¡é€ å–¶ã€ã¯æ˜­å’Œä½•å¹´ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["æ˜­å’Œ38å¹´", "æ˜­å’Œ46å¹´", "æ˜­å’Œ56å¹´"], "correct": 2, "explanation": "æ˜­å’Œ56å¹´ã«å®—åƒå¤§ç¤¾ã®ã€Œæ˜­å’Œã®å¾¡é€ å–¶ã€ã¨ã—ã¦æœ¬æ®¿ãªã©ã®æ”¹ä¿®ãŒå®Œäº†ã—ã¾ã—ãŸã€‚"},
                {"id": "q17", "question": "åƒè‘‰çœŒã«ã‚ã‚‹å‡ºå…‰èˆˆç”£ã®åƒè‘‰è£½æ²¹æ‰€ã«ã¯ã€å®—åƒå¤§ç¤¾ã®æœ¬æ®¿ã‚’æ¨¡ã—ãŸç¥ç¤¾ãŒå»ºç«‹ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®å¤§ãã•ã¯å®Ÿç‰©ã®ä½•åˆ†ã®ä¸€ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["1/2", "1/5", "1/10"], "correct": 2, "explanation": "åƒè‘‰è£½æ²¹æ‰€ã®ç¥ç¤¾ã¯å®—åƒå¤§ç¤¾ã®æœ¬æ®¿ã‚’æ¨¡ã—ãŸ1/10ã®å¤§ãã•ã§å»ºç«‹ã•ã‚Œã¦ã„ã¾ã™ã€‚"},
                {"id": "q18", "question": "å¤§å³¶ã§ã¯ã€å¸‚ã®é³¥ã§ã‚ã‚‹ã€Œã‚ªã‚ªãƒŸã‚ºãƒŠã‚®ãƒ‰ãƒªã€ã®ã“ã¨ã‚’åœ°å…ƒã®æ–¹è¨€ã§ä½•ã¨å‘¼ã¶ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["ã‚ªã‚¬ãƒ", "ã‚¦ãƒŸã‚¬ãƒ©ã‚¹", "ã‚«ãƒ„ã‚ªãƒ‰ãƒª"], "correct": 0, "explanation": "å¤§å³¶ã§ã¯ã‚ªã‚ªãƒŸã‚ºãƒŠã‚®ãƒ‰ãƒªã‚’ã€Œã‚ªã‚¬ãƒã€ã¨å‘¼ã¶åœ°å…ƒã®æ–¹è¨€ãŒã‚ã‚Šã¾ã™ã€‚"},
                {"id": "q19", "question": "æ—§ç„æµ·ç”ºã¨å‹å¥½äº¤æµéƒ½å¸‚ã‚’ç· çµã—ã¦ã„ãŸéŸ“å›½ãƒ»æ¸ˆå·å³¶ã®ã€ŒåŸå±±é‚‘ï¼ˆã‚½ãƒ³ã‚µãƒ³ã‚¦ãƒ—ï¼‰ã€ã¯ã€è¡Œæ”¿æ”¹ç·¨ã«ã‚ˆã‚Šç¾åœ¨ã¯ä½•ã¨ã„ã†å¸‚ã®ä¸€éƒ¨ã«ãªã£ã¦ã„ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["æ¸ˆå·å¸‚", "è¥¿å¸°æµ¦ï¼ˆã‚½ã‚®ãƒï¼‰å¸‚", "æ¼¢æ‹ï¼ˆãƒãƒ«ãƒ©ï¼‰å¸‚"], "correct": 0, "explanation": "åŸå±±é‚‘ã¯è¡Œæ”¿æ”¹ç·¨ã«ã‚ˆã‚Šã€ç¾åœ¨ã¯æ¸ˆå·å¸‚ã®ä¸€éƒ¨ã«ãªã£ã¦ã„ã¾ã™ã€‚"},
                {"id": "q20", "question": "å‡ºå…‰ä½ä¸‰ã®äº‹æ¥­ã®åŸºæœ¬ç†å¿µã§ã‚ã‚Šã€è‹¦ã—ã„æ™‚ä»£ã‚‚è²«ãé€šã—ãŸè€ƒãˆæ–¹ã¯ã€Œã€‡ã€‡ã€‡æœ¬ä½ã€ã§ã™ã€‚ã€‡ã«å…¥ã‚‹è¨€è‘‰ã¯ï¼Ÿ", "options": ["åˆ©ç›Š", "å›½å®¶", "æ¶ˆè²»è€…"], "correct": 2, "explanation": "å‡ºå…‰ä½ä¸‰ã®çµŒå–¶ç†å¿µã¯ã€Œæ¶ˆè²»è€…æœ¬ä½ã€ã§ã€ã“ã‚Œã¯å½¼ã®äº‹æ¥­ã®åŸºæœ¬ã¨ãªã‚Šã¾ã—ãŸã€‚"}
            ],
            "advanced": [
                {"id": "q21", "question": "æ˜­å’Œ56å¹´ã€æ—§å®—åƒç”ºã¯äººå£ãŒä½•ä¸‡äººã‚’çªç ´ã—ãŸã“ã¨ã‚’æ©Ÿã«ã€Œæ—§å®—åƒå¸‚ã€ã¨ãªã£ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["3ä¸‡äºº", "5ä¸‡äºº", "10ä¸‡äºº"], "correct": 1, "explanation": "æ˜­å’Œ56å¹´ã€æ—§å®—åƒç”ºã¯äººå£ãŒ5ä¸‡äººã‚’çªç ´ã—ãŸã“ã¨ã‚’æ©Ÿã«ã€Œæ—§å®—åƒå¸‚ã€ã¨ãªã‚Šã¾ã—ãŸã€‚"},
                {"id": "q22", "question": "ãƒ–ãƒ«ã‚¬ãƒªã‚¢ã®ã‚«ã‚¶ãƒ³ãƒ©ãƒƒã‚¯å¸‚ã§é–‹å‚¬ã•ã‚Œã‚‹ã€Œãƒãƒ©ç¥­ã‚Šã€ã®æœ€çµ‚æ—¥ã«é¸ã°ã‚Œã‚‹å¥³æ€§ã®ç§°å·ã¯ä½•ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["ãƒãƒ©ã®å¥³ç‹", "ãƒ­ãƒ¼ã‚ºãƒ—ãƒªãƒ³ã‚»ã‚¹", "èŠ±ã®å¥³ç¥"], "correct": 0, "explanation": "ãƒ–ãƒ«ã‚¬ãƒªã‚¢ã®ã‚«ã‚¶ãƒ³ãƒ©ãƒƒã‚¯å¸‚ã§é–‹å‚¬ã•ã‚Œã‚‹ã€Œãƒãƒ©ç¥­ã‚Šã€ã®æœ€çµ‚æ—¥ã«é¸ã°ã‚Œã‚‹å¥³æ€§ã®ç§°å·ã¯ã€Œãƒãƒ©ã®å¥³ç‹ã€ã§ã™ã€‚"},
                {"id": "q23", "question": "å®—åƒå¸‚ã®æ–‡åŒ–è²¡ã§ã‚ã‚‹ã€Œå®—åƒå¤§ç¤¾è¾ºæ´¥å®®æœ¬æ®¿ã€ã¯ã€ä½•æ™‚ä»£ã®å»ºç¯‰æ§˜å¼ã‚’ç¤ºã—ã¦ã„ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["å¹³å®‰æ™‚ä»£", "å®¤ç”ºæ™‚ä»£", "æ±Ÿæˆ¸æ™‚ä»£"], "correct": 2, "explanation": "å®—åƒå¤§ç¤¾è¾ºæ´¥å®®æœ¬æ®¿ã¯æ±Ÿæˆ¸æ™‚ä»£ã®å»ºç¯‰æ§˜å¼ã‚’ç¤ºã—ã¦ãŠã‚Šã€å›½ã®é‡è¦æ–‡åŒ–è²¡ã«æŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚"},
                {"id": "q24", "question": "å®—åƒå¸‚ãŒå®Ÿæ–½ã—ã¦ã„ã‚‹ã€Œå®—åƒãƒ¦ãƒªãƒƒã‚¯ã‚¹24æ™‚é–“é§…ä¼ã€ã¯ã€ç¬¬ä½•å›å¤§ä¼šã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["ç¬¬30å›", "ç¬¬32å›", "ç¬¬35å›"], "correct": 1, "explanation": "å®—åƒãƒ¦ãƒªãƒƒã‚¯ã‚¹24æ™‚é–“é§…ä¼ã¯ç¬¬32å›å¤§ä¼šãŒé–‹å‚¬ã•ã‚Œã¦ãŠã‚Šã€240åˆ†éƒ¨é–€ãŒæ–°è¨­ã•ã‚Œã¾ã—ãŸã€‚"},
                {"id": "q25", "question": "å®—åƒå¸‚å†…ã§æ ½åŸ¹ã•ã‚Œã‚‹ã€Œå®—åƒã‚µãƒ¼ãƒ¢ãƒ³ã€ã¯ã€ã©ã®ã‚ˆã†ãªæ–¹æ³•ã§é¤Šæ®–ã•ã‚Œã¦ã„ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["æµ·æ°´é¤Šæ®–", "é™¸ä¸Šé¤Šæ®–", "æ± ã§ã®é¤Šæ®–"], "correct": 1, "explanation": "å®—åƒã‚µãƒ¼ãƒ¢ãƒ³ã¯åœ°ä¸‹æ°´ã‚’åˆ©ç”¨ã—ãŸé™¸ä¸Šé¤Šæ®–ã§ã€è¥¿æ—¥æœ¬æœ€å¤§ç´šã®æ–½è¨­ã§ç”Ÿç”£ã•ã‚Œã¦ã„ã¾ã™ã€‚"},
                {"id": "q26", "question": "å®—åƒå¸‚ã®ã€Œå¸‚æ°‘ã®æ—¥ã€ã¯ã€ã„ã¤ã«åˆ¶å®šã•ã‚Œã¦ã„ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["1æœˆ1æ—¥", "3æœˆ20æ—¥", "11æœˆ3æ—¥"], "correct": 1, "explanation": "å®—åƒå¸‚ã®ã€Œå¸‚æ°‘ã®æ—¥ã€ã¯3æœˆ20æ—¥ã«åˆ¶å®šã•ã‚Œã¦ã„ã¾ã™ã€‚"},
                {"id": "q27", "question": "å®—åƒå¤§ç¤¾ã®æ²–æ´¥å®®ãŒé®åº§ã™ã‚‹æ²–ãƒå³¶ã¯ã€å¥³äººç¦åˆ¶ã®å³¶ã¨ã—ã¦çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€ã“ã®ç¦åˆ¶ã¯ä½•å¹´ã‹ã‚‰ç¶šã„ã¦ã„ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["ç´„1000å¹´", "ç´„1500å¹´", "ç´„2000å¹´"], "correct": 1, "explanation": "æ²–ãƒå³¶ã®å¥³äººç¦åˆ¶ã¯ç´„1500å¹´å‰ã‹ã‚‰ç¶šã„ã¦ãŠã‚Šã€å¤ä»£ã‹ã‚‰ã®ä¼çµ±ãŒå®ˆã‚‰ã‚Œã¦ã„ã¾ã™ã€‚"},
                {"id": "q28", "question": "å®—åƒå¸‚ã«ã‚ã‚‹ã€Œé“ã®é§…ã‚€ãªã‹ãŸã€ã§ã¯ã€åœ°åŸŸç‰¹ç”£å“ã®è²©å£²ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ãŒã€æœ€è¿‘æ³¨ç›®ã‚’é›†ã‚ã¦ã„ã‚‹ç‰¹ç”£å“ã¯ä½•ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["å®—åƒãƒ¦ãƒª", "å®—åƒã‚µãƒ¼ãƒ¢ãƒ³", "ç„ã¡ã‚ƒã‚“ã‚¢ã‚¸"], "correct": 1, "explanation": "é“ã®é§…ã‚€ãªã‹ãŸã§ã¯ã€é™¸ä¸Šé¤Šæ®–ã®ã€Œå®—åƒã‚µãƒ¼ãƒ¢ãƒ³ã€ãŒæ³¨ç›®ã‚’é›†ã‚ã¦ãŠã‚Šã€12æœˆã‹ã‚‰è²©å£²ãŒé–‹å§‹ã•ã‚Œã¾ã—ãŸã€‚"},
                {"id": "q29", "question": "å®—åƒå¸‚ã®æ­´å²ã‚’å­¦ã¶ã“ã¨ãŒã§ãã‚‹æ–½è¨­ã€Œå®—åƒå¤§ç¤¾ç¥å®é¤¨ã€ã«ã¯ã€ã©ã®ã‚ˆã†ãªæ–‡åŒ–è²¡ãŒå±•ç¤ºã•ã‚Œã¦ã„ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["é™¶èŠ¸ä½œå“", "å¤ä»£ã®ç¥­ç¥€éºç‰©", "ç¾ä»£ç¾è¡“"], "correct": 1, "explanation": "å®—åƒå¤§ç¤¾ç¥å®é¤¨ã«ã¯ã€å¤ä»£ã®ç¥­ç¥€éºç‰©ã‚„å®—åƒå¤§ç¤¾ã«é–¢é€£ã™ã‚‹é‡è¦ãªæ–‡åŒ–è²¡ãŒå±•ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚"},
                {"id": "q30", "question": "å®—åƒå¸‚ã‚’ä»£è¡¨ã™ã‚‹è¦³å…‰åœ°ã€Œå®—åƒå¤§ç¤¾ã€ã®å‚æ‹è€…æ•°ã¯ã€å¹´é–“ä½•ä¸‡äººç¨‹åº¦ã§ã—ã‚‡ã†ã‹ï¼Ÿ", "options": ["ç´„50ä¸‡äºº", "ç´„100ä¸‡äºº", "ç´„200ä¸‡äºº"], "correct": 1, "explanation": "å®—åƒå¤§ç¤¾ã®å¹´é–“å‚æ‹è€…æ•°ã¯ç´„100ä¸‡äººã§ã€å®—åƒå¸‚ã‚’ä»£è¡¨ã™ã‚‹è¦³å…‰åœ°ã¨ãªã£ã¦ã„ã¾ã™ã€‚"}
            ]
        };

        let currentDifficulty = null;
        let currentScore = 0;

        function startExam(difficulty) {
            currentDifficulty = difficulty;
            document.getElementById('difficulty-selection').classList.add('hidden');
            document.getElementById(difficulty + '-exam').classList.add('active');
            renderQuestions(difficulty);
        }

        function renderQuestions(difficulty) {
            const questions = allQuestions[difficulty];
            const container = document.getElementById(difficulty + '-questions');
            container.innerHTML = '';

            questions.forEach((q, idx) => {
                const questionHTML = `
                    <div class="question-item" id="${q.id}">
                        <div class="question-number">ç¬¬${idx + 1}å• / å…¨${questions.length}å•</div>
                        <div class="question-text">${q.question}</div>
                        <div class="options">
                            ${q.options.map((opt, optIdx) => `
                                <label class="option">
                                    <input type="radio" name="${q.id}" value="${optIdx}" onchange="updateProgress('${difficulty}')">
                                    <span>${opt}</span>
                                </label>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.innerHTML += questionHTML;
            });
        }

        function updateProgress(difficulty) {
            const questions = allQuestions[difficulty];
            const answered = questions.filter(q => {
                return document.querySelector(`input[name="${q.id}"]:checked`);
            }).length;
            const progress = (answered / questions.length) * 100;
            document.getElementById(difficulty + '-progress').style.width = progress + '%';
        }

        function submitAnswers(difficulty) {
            const questions = allQuestions[difficulty];
            let score = 0;
            let answers = {};

            questions.forEach(q => {
                const selected = document.querySelector(`input[name="${q.id}"]:checked`);
                if (selected) {
                    const answer = parseInt(selected.value);
                    answers[q.id] = {
                        selected: answer,
                        correct: q.correct,
                        isCorrect: answer === q.correct,
                        question: q.question,
                        options: q.options,
                        explanation: q.explanation
                    };
                    if (answer === q.correct) {
                        const pointsPerQuestion = difficulty === 'beginner' ? Math.round(100 / 11 * 100) / 100 : 10;
                        score += pointsPerQuestion;
                    }
                } else {
                    answers[q.id] = {
                        selected: -1,
                        correct: q.correct,
                        isCorrect: false,
                        question: q.question,
                        options: q.options,
                        explanation: q.explanation
                    };
                }
            });

            currentScore = Math.round(score);
            displayResults(currentScore, difficulty, answers);
        }

        function displayResults(score, difficulty, answers) {
            const userCount = incrementUserCount();
            saveExamResult(difficulty, score);

            document.getElementById(difficulty + '-exam').classList.remove('active');
            document.getElementById('result-section').classList.add('active');

            document.getElementById('result-score').textContent = score + 'ç‚¹';

            let message = '';
            let rank = '';
            const isPassed = score >= 60;

            if (score >= 80) {
                message = 'ğŸŒŸ ç´ æ™´ã‚‰ã—ã„æˆç¸¾ã§ã™ï¼';
                rank = 'è©•ä¾¡: å„ªç§€ï¼ˆ80ç‚¹ä»¥ä¸Šï¼‰';
            } else if (score >= 60) {
                message = 'ğŸ‘ è‰¯å¥½ãªæˆç¸¾ã§ã™ï¼';
                rank = 'è©•ä¾¡: åˆæ ¼ï¼ˆ60ç‚¹ä»¥ä¸Šï¼‰';
            } else {
                message = 'ğŸ“š ã‚‚ã†ä¸€åº¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼';
                rank = 'è©•ä¾¡: å†å—æ¤œæ¨å¥¨ï¼ˆ60ç‚¹æœªæº€ï¼‰';
            }

            document.getElementById('result-message').textContent = message;
            document.getElementById('result-rank').textContent = rank;
            document.getElementById('result-user-count').textContent = `ã‚ãªãŸã¯${userCount}ç•ªç›®ã®å—è¬›ç”Ÿã§ã™ï¼`;

            // åˆæ ¼æ™‚ã®ã¿èªå®šè¨¼ã¨æ¬¡ã®ã‚³ãƒ¼ã‚¹ã‚’è¡¨ç¤º
            if (isPassed) {
                showCertificate(difficulty, score);
                showNextCourseBanner(difficulty);
            } else {
                document.getElementById('certificate-section').style.display = 'none';
                document.getElementById('next-course-banner').style.display = 'none';
            }

            displayAnswerReview(answers);
            
            // çµæœã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            setTimeout(() => {
                document.getElementById('result-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 300);
        }

        function showCertificate(difficulty, score) {
            const levelNames = {
                'beginner': 'èª²é•·ã‚³ãƒ¼ã‚¹',
                'intermediate': 'éƒ¨é•·ã‚³ãƒ¼ã‚¹',
                'advanced': 'å¸‚é•·ã‚³ãƒ¼ã‚¹'
            };

            const badges = {
                'beginner': 'ğŸ‘¨â€ğŸ’¼',
                'intermediate': 'ğŸ‘”',
                'advanced': 'ğŸ†'
            };

            document.getElementById('certificate-section').style.display = 'block';
            document.getElementById('certificate-level').textContent = levelNames[difficulty];
            document.getElementById('certificate-score-display').textContent = score >= 80 ? 'å„ªç§€åˆæ ¼' : 'åˆæ ¼';
            document.getElementById('certificate-badge').textContent = badges[difficulty];
            
            const today = new Date();
            document.getElementById('certificate-date').textContent = 
                `${today.getFullYear()}å¹´${today.getMonth() + 1}æœˆ${today.getDate()}æ—¥ èªå®š`;
        }

        function showNextCourseBanner(difficulty) {
            const banner = document.getElementById('next-course-banner');
            const title = document.getElementById('next-course-title');
            const desc = document.getElementById('next-course-desc');
            const btn = document.getElementById('next-course-btn');

            banner.className = 'next-course-banner';

            if (difficulty === 'beginner') {
                banner.classList.add('intermediate-next');
                title.textContent = 'ğŸ‰ æ¬¡ã¯éƒ¨é•·ã‚³ãƒ¼ã‚¹ã«æŒ‘æˆ¦ï¼';
                desc.textContent = 'èª²é•·ã‚³ãƒ¼ã‚¹ã‚’ã‚¯ãƒªã‚¢ã—ãŸã‚ãªãŸãªã‚‰ã€éƒ¨é•·ã‚³ãƒ¼ã‚¹ã‚‚çªç ´ã§ãã‚‹ã¯ãšï¼';
                btn.textContent = 'éƒ¨é•·ã‚³ãƒ¼ã‚¹ã«æŒ‘æˆ¦ã™ã‚‹';
                btn.onclick = () => goToNextCourse('intermediate');
            } else if (difficulty === 'intermediate') {
                banner.classList.add('advanced-next');
                title.textContent = 'ğŸ”¥ ã„ã‚ˆã„ã‚ˆå¸‚é•·ã‚³ãƒ¼ã‚¹ã¸ï¼';
                desc.textContent = 'éƒ¨é•·ã‚³ãƒ¼ã‚¹ã‚’ã‚¯ãƒªã‚¢ï¼æœ€é«˜é›£åº¦ã®å¸‚é•·ã‚³ãƒ¼ã‚¹ã§å®—åƒãƒã‚¹ã‚¿ãƒ¼ã‚’ç›®æŒ‡ãã†ï¼';
                btn.textContent = 'å¸‚é•·ã‚³ãƒ¼ã‚¹ã«æŒ‘æˆ¦ã™ã‚‹';
                btn.onclick = () => goToNextCourse('advanced');
            } else if (difficulty === 'advanced') {
                banner.classList.add('ambassador');
                title.textContent = 'ğŸŠ ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼å®—åƒã‚¢ãƒ³ãƒã‚µãƒ€ãƒ¼èªå®šï¼';
                desc.textContent = 'å…¨ã‚³ãƒ¼ã‚¹ã‚’ã‚¯ãƒªã‚¢ï¼ã‚ãªãŸã¯å®—åƒã®é­…åŠ›ã‚’ä¸–ç•Œã«ç™ºä¿¡ã§ãã‚‹ã‚¢ãƒ³ãƒã‚µãƒ€ãƒ¼ã§ã™ï¼';
                btn.textContent = 'ç‰¹å…¸ã‚’ç¢ºèªã™ã‚‹';
                btn.onclick = () => window.open('https://nakamura-munakata.github.io/munakata-kentei-lp/#benefits', '_blank');
            }

            banner.style.display = 'block';
        }

        function goToNextCourse(nextDifficulty) {
            document.getElementById('result-section').classList.remove('active');
            document.getElementById('difficulty-selection').classList.remove('hidden');
            
            setTimeout(() => {
                startExam(nextDifficulty);
            }, 100);
        }

        function displayAnswerReview(answers) {
            const reviewContent = document.getElementById('answer-review-content');
            reviewContent.innerHTML = '';

            let questionIndex = 1;
            Object.values(answers).forEach((answer) => {
                const itemClass = answer.isCorrect ? 'correct' : 'incorrect';
                const icon = answer.isCorrect ? 'âœ…' : 'âŒ';
                const selectedText = answer.selected >= 0 ? answer.options[answer.selected] : 'æœªå›ç­”';
                const correctText = answer.options[answer.correct];

                const html = `
                    <div class="answer-item ${itemClass}">
                        <div class="answer-item-icon">${icon}</div>
                        <div class="answer-item-title">ç¬¬${questionIndex}å•: ${answer.question}</div>
                        <div class="answer-item-content">
                            <strong>ã‚ãªãŸã®å›ç­”:</strong> ${selectedText}
                        </div>
                        <div class="answer-item-content">
                            <strong>æ­£è§£:</strong> ${correctText}
                        </div>
                        <div class="answer-item-explanation">
                            <strong>ğŸ“– è§£èª¬:</strong> ${answer.explanation}
                        </div>
                    </div>
                `;
                reviewContent.innerHTML += html;
                questionIndex++;
            });
        }

        // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸é–¢é€£
        function getUserCount() {
            if (!window.munakatakentei_globalcount) {
                let count = localStorage.getItem('munakatakentei_usercount_global');
                window.munakatakentei_globalcount = count ? parseInt(count) : 0;
            }
            return window.munakatakentei_globalcount;
        }

        function incrementUserCount() {
            let count = getUserCount();
            count++;
            window.munakatakentei_globalcount = count;
            localStorage.setItem('munakatakentei_usercount_global', count);
            
            // LPç”¨ã®çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã‚‚æ›´æ–°
            updateQuizStats(true, false);
            
            return count;
        }

        function saveExamResult(difficulty, score) {
            const results = JSON.parse(localStorage.getItem('munakatakentei_results') || '[]');
            const passed = score >= 80; // 80%ä»¥ä¸Šã§åˆæ ¼
            results.push({
                difficulty: difficulty,
                score: score,
                date: new Date().toISOString(),
                passed: passed
            });
            localStorage.setItem('munakatakentei_results', JSON.stringify(results));
            
            // LPç”¨ã®çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã‚‚æ›´æ–°ï¼ˆåˆæ ¼ã®å ´åˆï¼‰
            if (passed) {
                updateQuizStats(false, true);
            }
        }
        
        // LPç”¨ã®çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
        function updateQuizStats(incrementExams, incrementPassed) {
            const stats = JSON.parse(localStorage.getItem('munakata_quiz_stats') || '{"totalExams": 0, "totalPassed": 0}');
            
            if (incrementExams) {
                stats.totalExams = (stats.totalExams || 0) + 1;
            }
            if (incrementPassed) {
                stats.totalPassed = (stats.totalPassed || 0) + 1;
            }
            
            localStorage.setItem('munakata_quiz_stats', JSON.stringify(stats));
            
            // æœ¬æ—¥ã®å—é¨“è€…æ•°ã‚‚æ›´æ–°
            const today = new Date().toDateString();
            const todayStats = JSON.parse(localStorage.getItem('munakata_today_stats') || '{}');
            
            if (todayStats.date !== today) {
                // æ—¥ä»˜ãŒå¤‰ã‚ã£ãŸã‚‰ãƒªã‚»ãƒƒãƒˆ
                todayStats.date = today;
                todayStats.count = 0;
            }
            
            if (incrementExams) {
                todayStats.count = (todayStats.count || 0) + 1;
            }
            
            localStorage.setItem('munakata_today_stats', JSON.stringify(todayStats));
        }

        // SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½
        function shareOnTwitter() {
            const score = document.getElementById('result-score').textContent;
            const levelNames = {
                'beginner': 'èª²é•·',
                'intermediate': 'éƒ¨é•·',
                'advanced': 'å¸‚é•·'
            };
            const level = levelNames[currentDifficulty] || '';
            const isPassed = currentScore >= 60;
            const passText = isPassed ? 'åˆæ ¼ã—ã¾ã—ãŸï¼ğŸ‰' : 'æŒ‘æˆ¦ã—ã¾ã—ãŸï¼';
            
            const text = `å®—åƒæ¤œå®šã€${level}ã‚³ãƒ¼ã‚¹ã€‘ã«${passText}\nã‚¹ã‚³ã‚¢: ${score}\n\nä¸–ç•Œéºç”£ãƒ»å®—åƒã®æ­´å²ã‚’å­¦ã¼ã†ï¼\n#å®—åƒæ¤œå®š #å®—åƒå¸‚ #ä¸–ç•Œéºç”£`;
            const url = 'https://nakamura-munakata.github.io/munakata-kentei-lp/';
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`);
        }

        function shareOnFacebook() {
            const url = 'https://nakamura-munakata.github.io/munakata-kentei-lp/';
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`);
        }

        function shareOnLine() {
            const score = document.getElementById('result-score').textContent;
            const levelNames = {
                'beginner': 'èª²é•·',
                'intermediate': 'éƒ¨é•·',
                'advanced': 'å¸‚é•·'
            };
            const level = levelNames[currentDifficulty] || '';
            const text = `å®—åƒæ¤œå®šã€${level}ã‚³ãƒ¼ã‚¹ã€‘ã«æŒ‘æˆ¦ã—ã¾ã—ãŸï¼ã‚¹ã‚³ã‚¢: ${score} ğŸ›ï¸`;
            window.open(`https://line.me/R/msg/text/${encodeURIComponent(text + '\nhttps://nakamura-munakata.github.io/munakata-kentei-lp/')}`);
        }

        function copyLink() {
            const url = 'https://nakamura-munakata.github.io/munakata-kentei-lp/';
            navigator.clipboard.writeText(url).then(() => {
                alert('ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
            });
        }

        // èªå®šè¨¼æ©Ÿèƒ½
        function downloadCertificate() {
            alert('èªå®šè¨¼ã®ç”»åƒä¿å­˜æ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™ã€‚\nã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚');
        }

        function shareCertificate() {
            shareOnTwitter();
        }

        function backToDifficulty() {
            if (currentDifficulty) {
                document.getElementById(currentDifficulty + '-exam').classList.remove('active');
            }
            document.getElementById('difficulty-selection').classList.remove('hidden');
            currentDifficulty = null;
        }

        function retryExam() {
            document.getElementById('result-section').classList.remove('active');
            document.getElementById('difficulty-selection').classList.remove('hidden');
        }
    </script>
</body>
</html>
